$(document).ready((function(){function e(e,s){null==s&&(s=5);let n=$("[name="+e+"]").val();return""==n?($("[name="+e+"]").siblings("p").show(),!1):n.length>=s?($("[name="+e+"]").siblings("p").hide(),!0):($("[name="+e+"]").siblings("p").show(),!1)}function s(s,n){null==n&&(n=5),$("[name="+s+"]").keyup((function(){e(s,n)}))}function n(e){return $("input[name="+e+"]").is(":checked")?($("input[name="+e+"]").parent().siblings("p").hide(),!0):($("input[name="+e+"]").parent().siblings("p").show(),!1)}function i(){let e=$("input[name='pwd1']"),s=$("input[name='pwd2']"),n=e.val(),i=0,l=/[0-9]/,r=/[a-zA-Z]/,t=/[~!#$%^&*]/;return 0==n.length?(e.siblings("span").removeClass("true error"),e.siblings("p").show(),s.siblings("p").show(),!1):(n.length>=5?(i++,e.siblings(".leng").removeClass("error"),e.siblings(".leng").addClass("true")):(e.siblings(".leng").removeClass("true"),e.siblings(".leng").addClass("error")),l.test(n)?(i++,e.siblings(".num").removeClass("error"),e.siblings(".num").addClass("true")):(e.siblings(".num").removeClass("true"),e.siblings(".num").addClass("error")),r.test(n)?(i++,e.siblings(".eng").removeClass("error"),e.siblings(".eng").addClass("true")):(e.siblings(".eng").removeClass("true"),e.siblings(".eng").addClass("error")),t.test(n)?(i++,e.siblings(".spc").removeClass("error"),e.siblings(".spc").addClass("true")):(e.siblings(".spc").removeClass("true"),e.siblings(".spc").addClass("error")),4==i&&(e.siblings("p").hide(),!0))}function l(e,s){let n=$("input[name="+e+"]"),l=$("input[name="+s+"]"),r=n.val(),t=l.val();return 1==i()&&r==t?(l.siblings("p").hide(),!0):(l.siblings("p").show(),!1)}$("input[type='submit']").on("click",(function(s){var r;n("agree")||s.preventDefault(),e("userid")||s.preventDefault(),i()&&l("pwd1","pwd2")||s.preventDefault(),e("email1")&&(r="email2",""==$("select[name="+r+"]").children("option:selected").val()?($("select[name="+r+"]").siblings("p").show(),0):($("select[name="+r+"]").siblings("p").hide(),1))||s.preventDefault(),n("gender")||s.preventDefault(),e("message",10)||s.preventDefault()})),s("userid"),s("message",10),$("input[name='pwd1']").keyup((function(){i()})),$("input[name='pwd2']").keyup((function(){l("pwd1","pwd2")}))}));